<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Corkboard</title>
    <link rel="stylesheet" href="decorations.css">
</head>
<body>
    <header class="header admin-header">
        <div class="container">
            <h1 class="logo">ðŸ”§ Admin Panel</h1>
            <nav class="nav">
                <a href="/index.html" class="nav-link">Public Board</a>
                <button id="darkModeToggle" class="btn btn-secondary" aria-label="Toggle Dark Mode">
                    <i id="darkModeIcon" class="fa fa-moon"></i>
                </button>
                <button id="logoutBtn" class="btn btn-secondary">Logout</button>
            </nav>
        </div>
    </header>
    
    <main class="main">
        <div class="container">
            <!-- checking auth -->
            <div id="authCheck" class="loading">Checking authentication...</div>
            
            <!-- admin dashboard -->
            <div id="adminDashboard" class="admin-dashboard" style="display: none;">
                <!-- statistics -->
                <section class="stats-section">
                    <h2>Statistics</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Posts</h3>
                            <div id="totalPosts" class="stat-number">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>Posts Today</h3>
                            <div id="recentPosts" class="stat-number">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>Last Updated</h3>
                            <div id="lastUpdated" class="stat-text">-</div>
                        </div>
                    </div>
                    
                    <!-- charts -->
                    <div class="chart-section">
                        <h3>Posts Per Day (Last 7 Days)</h3>
                        <div class="chart-container">
                            <canvas id="postsChart" width="600" height="300"></canvas>
                        </div>
                    </div>
                    <br>
                    <button id="refreshStats" class="btn btn-primary">Refresh Stats</button>
                </section>
                <br>
                <!-- main controls -->
                <section class="controls-section">
                    <h2>Controls</h2>
                    <div class="controls-grid">
                        <div class="control-card">
                            <h3>Clear All Posts</h3>
                            <p>This action will permanently delete all posts from the corkboard.</p>
                            <button id="clearAllBtn" class="btn btn-danger">Clear All Posts</button>
                        </div>
                    </div>
                </section>
                <br>
                <!-- recent posts -->
                <section class="preview-section">
                    <h2>Recent Posts Preview</h2>
                    <div id="adminPostsContainer" class="posts-container">
                        <div class="loading">Loading posts...</div>
                    </div>
                </section>
            </div>

            <!-- login required -->
            <div id="loginRequired" class="login-required" style="display: none;">
                <h2>Authentication Required</h2>
                <p>You need to be logged in to access the admin panel.</p>
                <a href="/login.html" class="btn btn-primary">Go to Login</a>
            </div>
        </div>
    </main>

    <!-- confirmation -->
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Confirm Action</h3>
            <p>Are you sure you want to clear all posts? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="confirmClear" class="btn btn-danger">Yes, Clear All</button>
                <button id="cancelClear" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
